{% extends "base.html" %}
{% block title %}Entities â€” Hassette{% endblock %}
{% block content %}
  <h1 class="ht-heading-4">
    <span class="ht-icon"><i class="fas fa-list"></i></span>
    <span>Entity Browser</span>
    <span class="ht-badge ht-badge--info ht-ml-2">{{ entity_count }} entities</span>
  </h1>
  <div class="ht-card" x-data="entityBrowser">
    <!-- Filters -->
    <div class="ht-field-group ht-mb-4">
      <div class="ht-control">
        <div class="ht-select ht-select--sm">
          <select id="entity-domain-filter" x-model="domain" @change="refresh()">
            <option value="">All Domains</option>
            {% for domain in domains %}<option value="{{ domain }}">{{ domain }}</option>{% endfor %}
          </select>
        </div>
      </div>
      <div class="ht-control">
        <input class="ht-input ht-input--sm"
               type="text"
               id="entity-search"
               placeholder="Search entity ID..."
               x-model="search"
               @input.debounce.300ms="refresh()">
      </div>
    </div>
    <p class="ht-text-xs ht-text-muted ht-mb-3">Select a domain or enter a search term to browse entities.</p>
    <table class="ht-table ht-table--dense">
      <thead>
        <tr>
          <th>Entity ID</th>
          <th>State</th>
          <th>Last Changed</th>
          <th>Attributes</th>
        </tr>
      </thead>
      <tbody id="entity-list">
        <tr>
          <td colspan="4" class="ht-text-center ht-text-muted">Select a domain or search to load entities.</td>
        </tr>
      </tbody>
    </table>
  </div>
{% endblock %}
