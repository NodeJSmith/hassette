[tools]
pre-commit = "4.3.0"
python = ["3.13"]
uv = "latest"


[env]
# _.file = '.env'
_.python.venv = { path = ".venv" }

[tasks.install]
run = "uv sync"

[tasks.serve_docs]
run = "mkdocs serve --livereload"
depends = ["install"]

[tasks."npm:install"]
description = "Install Node.js dependencies"
run = "npm ci"

[tasks."lint:js"]
description = "Lint JS files with ESLint"
run = "npx eslint src/hassette/web/static/js/"
depends = ["npm:install"]

[tasks."typecheck:js"]
description = "Type-check JS files with TypeScript"
run = "npx tsc --noEmit -p src/hassette/web/static/js/jsconfig.json"
depends = ["npm:install"]
